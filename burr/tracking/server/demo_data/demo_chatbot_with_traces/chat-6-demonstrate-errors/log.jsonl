{"type":"begin_entry","start_time":"2024-08-27T11:59:58.397603","action":"prompt","inputs":{"prompt":"Please draw a giraffe."},"sequence_id":0}
{"type":"begin_span","start_time":"2024-08-27T11:59:58.397677","action_sequence_id":0,"span_id":"0:0.0","span_name":"process_prompt","parent_span_id":"0:0","span_dependencies":[]}
{"type":"end_span","end_time":"2024-08-27T11:59:58.397711","action_sequence_id":0,"span_id":"0:0.0"}
{"type":"attribute","key":"prompt","action_sequence_id":0,"span_id":"0:0.0","value":"Please draw a giraffe.","tags":{},"time_logged":"2024-08-27T18:59:58.397730Z"}
{"type":"end_entry","end_time":"2024-08-27T11:59:58.397784","action":"prompt","result":{"chat_item":{"role":"user","content":"Please draw a giraffe.","type":"text"}},"exception":null,"state":{"__SEQUENCE_ID":0,"chat_history":[{"role":"user","content":"Please draw a giraffe.","type":"text"}],"prompt":"Please draw a giraffe.","__PRIOR_STEP":"prompt"},"sequence_id":0}
{"type":"end_span","end_time":"2024-08-27T11:59:58.397819","action_sequence_id":0,"span_id":"0:0"}
{"type":"begin_entry","start_time":"2024-08-27T11:59:58.397859","action":"check_safety","inputs":{},"sequence_id":1}
{"type":"begin_span","start_time":"2024-08-27T11:59:58.397904","action_sequence_id":1,"span_id":"1:0.0","span_name":"check_safety","parent_span_id":"1:0","span_dependencies":[]}
{"type":"end_span","end_time":"2024-08-27T11:59:58.397926","action_sequence_id":1,"span_id":"1:0.0"}
{"type":"end_entry","end_time":"2024-08-27T11:59:58.397969","action":"check_safety","result":{"safe":true},"exception":null,"state":{"__SEQUENCE_ID":1,"chat_history":[{"role":"user","content":"Please draw a giraffe.","type":"text"}],"prompt":"Please draw a giraffe.","__PRIOR_STEP":"check_safety","safe":true},"sequence_id":1}
{"type":"end_span","end_time":"2024-08-27T11:59:58.397998","action_sequence_id":1,"span_id":"1:0"}
{"type":"begin_entry","start_time":"2024-08-27T11:59:58.398037","action":"decide_mode","inputs":{},"sequence_id":2}
{"type":"begin_span","start_time":"2024-08-27T11:59:58.398079","action_sequence_id":2,"span_id":"2:0.0","span_name":"generate_prompt","parent_span_id":"2:0","span_dependencies":[]}
{"type":"end_span","end_time":"2024-08-27T11:59:58.398102","action_sequence_id":2,"span_id":"2:0.0"}
{"type":"begin_span","start_time":"2024-08-27T11:59:58.398128","action_sequence_id":2,"span_id":"2:0.1","span_name":"query_openai","parent_span_id":"2:0","span_dependencies":[]}
{"type":"begin_span","start_time":"2024-08-27T11:59:58.398154","action_sequence_id":2,"span_id":"2:0.1.0","span_name":"create_openai_client","parent_span_id":"2:0.1","span_dependencies":[]}
{"type":"end_span","end_time":"2024-08-27T11:59:58.403304","action_sequence_id":2,"span_id":"2:0.1.0"}
{"type":"begin_span","start_time":"2024-08-27T11:59:58.416623","action_sequence_id":2,"span_id":"2:0.1.1","span_name":"query_openai","parent_span_id":"2:0.1","span_dependencies":[]}
{"type":"begin_span","start_time":"2024-08-27T11:59:58.420707","action_sequence_id":2,"span_id":"2:0.1.1.0","span_name":"openai.chat","parent_span_id":"2:0.1.1","span_dependencies":[]}
{"type":"end_span","end_time":"2024-08-27T11:59:58.553528","action_sequence_id":2,"span_id":"2:0.1.1"}
{"type":"end_span","end_time":"2024-08-27T11:59:58.553964","action_sequence_id":2,"span_id":"2:0.1"}
{"type":"end_entry","end_time":"2024-08-27T11:59:58.559207","action":"decide_mode","result":null,"exception":"Traceback (most recent call last):\n  File \"/Users/elijahbenizzy/dev/dagworks/os/burr/burr/core/application.py\", line 807, in _step\n    raise e\n  File \"/Users/elijahbenizzy/dev/dagworks/os/burr/burr/core/application.py\", line 793, in _step\n    result, new_state = _run_single_step_action(\n                        ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/elijahbenizzy/dev/dagworks/os/burr/burr/core/application.py\", line 237, in _run_single_step_action\n    action.run_and_update(state, **inputs), action.name\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/elijahbenizzy/dev/dagworks/os/burr/burr/core/action.py\", line 533, in run_and_update\n    return self._fn(state, **self._bound_params, **run_kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/elijahbenizzy/dev/dagworks/os/burr/examples/tracing-and-spans/application.py\", line 54, in choose_mode\n    result = client.chat.completions.create(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/elijahbenizzy/.pyenv/versions/3.12.0/envs/burr-3-12/lib/python3.12/site-packages/opentelemetry/instrumentation/openai/utils.py\", line 78, in wrapper\n    return func(\n           ^^^^^\n  File \"/Users/elijahbenizzy/.pyenv/versions/3.12.0/envs/burr-3-12/lib/python3.12/site-packages/opentelemetry/instrumentation/openai/shared/chat_wrappers.py\", line 98, in chat_wrapper\n    raise e\n  File \"/Users/elijahbenizzy/.pyenv/versions/3.12.0/envs/burr-3-12/lib/python3.12/site-packages/opentelemetry/instrumentation/openai/shared/chat_wrappers.py\", line 83, in chat_wrapper\n    response = wrapped(*args, **kwargs)\n               ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/elijahbenizzy/.pyenv/versions/3.12.0/envs/burr-3-12/lib/python3.12/site-packages/openai/_utils/_utils.py\", line 277, in wrapper\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/elijahbenizzy/.pyenv/versions/3.12.0/envs/burr-3-12/lib/python3.12/site-packages/openai/resources/chat/completions.py\", line 646, in create\n    return self._post(\n           ^^^^^^^^^^^\n  File \"/Users/elijahbenizzy/.pyenv/versions/3.12.0/envs/burr-3-12/lib/python3.12/site-packages/openai/_base_client.py\", line 1266, in post\n    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/elijahbenizzy/.pyenv/versions/3.12.0/envs/burr-3-12/lib/python3.12/site-packages/openai/_base_client.py\", line 942, in request\n    return self._request(\n           ^^^^^^^^^^^^^^\n  File \"/Users/elijahbenizzy/.pyenv/versions/3.12.0/envs/burr-3-12/lib/python3.12/site-packages/openai/_base_client.py\", line 1046, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.AuthenticationError: Error code: 401 - {'error': {'message': 'Incorrect API key provided: fake. You can find your API key at https://platform.openai.com/account/api-keys.', 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}\n","state":{"__SEQUENCE_ID":2,"chat_history":[{"role":"user","content":"Please draw a giraffe.","type":"text"}],"prompt":"Please draw a giraffe.","__PRIOR_STEP":"check_safety","safe":true},"sequence_id":2}
{"type":"end_span","end_time":"2024-08-27T11:59:58.559992","action_sequence_id":2,"span_id":"2:0"}
